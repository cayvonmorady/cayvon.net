@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

:root {
  --bg: #f6f1ea;
  --fg: #1a1a1a;
  --muted: #5f5f5f;
  --card: #ffffff;
  --accent: #0f766e;
  --accent-strong: #0b5f59;
  --ring: #0f766e;
  --bloom-accent: rgba(15, 118, 110, 0.22);
  --bloom-neutral: rgba(15, 23, 42, 0.14);
  --theme-toggle-duration: 700ms;
  --theme-toggle-ease: cubic-bezier(0.22, 1, 0.36, 1);
}

.dark {
  --bg: #0f1115;
  --fg: #f4f4f5;
  --muted: #a1a1aa;
  --card: #161a22;
  --accent: #5eead4;
  --accent-strong: #2dd4bf;
  --ring: #5eead4;
  --bloom-accent: rgba(94, 234, 212, 0.24);
  --bloom-neutral: rgba(148, 163, 184, 0.16);
}

.retro {
  --bg: #050015;
  --fg: #62ff62;
  --muted: #44c2ff;
  --card: #0f0524;
  --accent: #ff43b5;
  --accent-strong: #ffe84a;
  --ring: #ff43b5;
  --bloom-accent: rgba(255, 67, 181, 0.34);
  --bloom-neutral: rgba(68, 194, 255, 0.3);
}

.vaporwave {
  --bg: #1a0734;
  --fg: #f8eefe;
  --muted: #86e8ff;
  --card: #2a0f52;
  --accent: #ff4fd8;
  --accent-strong: #73f7ff;
  --ring: #ff4fd8;
  --bloom-accent: rgba(255, 79, 216, 0.32);
  --bloom-neutral: rgba(115, 247, 255, 0.26);
}

@theme inline {
  --color-bg: var(--bg);
  --color-fg: var(--fg);
  --color-muted: var(--muted);
  --color-card: var(--card);
  --color-accent: var(--accent);
  --color-accent-strong: var(--accent-strong);
  --color-ring: var(--ring);
  --font-sans: var(--font-body);
  --font-display: var(--font-body);
}

* {
  border-color: color-mix(in oklab, var(--muted) 20%, transparent);
}

body {
  background: var(--bg);
  color: var(--fg);
  font-family: var(--font-body), -apple-system, BlinkMacSystemFont, sans-serif;
  letter-spacing: -0.01em;
  -webkit-text-size-adjust: 100%;
}

::selection {
  background: color-mix(in oklab, var(--accent) 35%, transparent);
}

.retro body {
  position: relative;
  font-family: "Lucida Console", "Courier New", "Andale Mono", monospace;
  letter-spacing: 0.01em;
  text-shadow: 0 0 0.25rem color-mix(in oklab, var(--fg) 45%, transparent);
  background-color: var(--bg);
  background-image:
    radial-gradient(circle at 12% 18%, rgba(255, 67, 181, 0.16), transparent 34%),
    radial-gradient(circle at 84% 72%, rgba(68, 194, 255, 0.18), transparent 40%),
    repeating-linear-gradient(
      -45deg,
      rgba(98, 255, 98, 0.045) 0,
      rgba(98, 255, 98, 0.045) 2px,
      transparent 2px,
      transparent 8px
    );
}

.retro body::before,
.retro body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 50;
}

.retro body::before {
  background: repeating-linear-gradient(
    0deg,
    rgba(255, 255, 255, 0.05) 0,
    rgba(255, 255, 255, 0.05) 1px,
    transparent 1px,
    transparent 3px
  );
  mix-blend-mode: screen;
  opacity: 0.24;
}

.retro body::after {
  background:
    radial-gradient(circle at 30% 20%, rgba(255, 67, 181, 0.1), transparent 48%),
    radial-gradient(circle at 70% 80%, rgba(68, 194, 255, 0.12), transparent 46%);
  opacity: 0.34;
  animation: retro-flicker 190ms steps(2, end) infinite;
}

.retro [class*="rounded-"] {
  border-radius: 0 !important;
}

.retro [class*="shadow-"] {
  box-shadow: none !important;
}

.retro :where(section, article, button, a, span) {
  border-color: color-mix(in oklab, var(--accent) 62%, var(--fg)) !important;
}

.retro :where(button, a) {
  text-decoration: underline;
  text-decoration-thickness: 0.12em;
  text-underline-offset: 0.14em;
}

.retro :where(h1, h2, h3) {
  text-transform: uppercase;
  letter-spacing: 0.06em;
  text-shadow:
    0 0 0.22rem color-mix(in oklab, var(--accent) 40%, transparent),
    0 0 0.7rem color-mix(in oklab, var(--accent-strong) 26%, transparent);
}

.retro :where(p, li, span) {
  color: color-mix(in oklab, var(--fg) 86%, var(--muted));
}

.retro a {
  color: color-mix(in oklab, var(--muted) 70%, #7cc8ff);
}

.retro a:hover {
  color: color-mix(in oklab, var(--accent-strong) 64%, #fff2a1);
}

.retro .theme-toggle.is-retro {
  border-color: color-mix(in oklab, var(--accent) 72%, #fff);
  background:
    linear-gradient(
      180deg,
      color-mix(in oklab, var(--card) 68%, #130026),
      color-mix(in oklab, var(--card) 84%, #03000a)
    );
  box-shadow:
    0 0 0 2px color-mix(in oklab, var(--accent) 26%, transparent),
    0 0 1rem color-mix(in oklab, var(--accent) 30%, transparent) !important;
}

.retro .theme-toggle.is-retro .theme-toggle__sun,
.retro .theme-toggle.is-retro .theme-toggle__moon {
  opacity: 1;
  filter: drop-shadow(0 0 0.5rem color-mix(in oklab, var(--accent) 45%, transparent));
}

.retro .theme-toggle.is-retro .theme-toggle__sun {
  transform: translateX(-20%) scale(0.95);
  color: color-mix(in oklab, var(--accent-strong) 76%, #fff5a7);
}

.retro .theme-toggle.is-retro .theme-toggle__moon {
  transform: translateX(20%) scale(0.95);
  color: color-mix(in oklab, var(--muted) 82%, #7cc8ff);
}

.vaporwave body {
  position: relative;
  font-family: "Trebuchet MS", "Arial Black", "Helvetica Neue", sans-serif;
  letter-spacing: 0.015em;
  background:
    radial-gradient(circle at 20% 12%, rgba(255, 79, 216, 0.24), transparent 40%),
    radial-gradient(circle at 82% 78%, rgba(115, 247, 255, 0.2), transparent 42%),
    linear-gradient(180deg, #4f1f99 0%, #1a0734 54%, #120426 100%);
}

.vaporwave body::before,
.vaporwave body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 50;
}

.vaporwave body::before {
  background-image: linear-gradient(
      rgba(255, 79, 216, 0.18) 1px,
      transparent 1px
    ),
    linear-gradient(
      90deg,
      rgba(115, 247, 255, 0.12) 1px,
      transparent 1px
    );
  background-size: 42px 42px;
  opacity: 0.22;
  transform: perspective(420px) rotateX(60deg) scale(1.4) translateY(34%);
  transform-origin: center bottom;
}

.vaporwave body::after {
  background:
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 79, 216, 0.11) 46%,
      rgba(115, 247, 255, 0.16) 100%
    ),
    repeating-linear-gradient(
      0deg,
      rgba(255, 255, 255, 0.08) 0,
      rgba(255, 255, 255, 0.08) 2px,
      transparent 2px,
      transparent 5px
    );
  opacity: 0.38;
  animation: vaporwave-sheen 2600ms linear infinite;
}

.vaporwave [class*="rounded-"] {
  border-radius: 0 !important;
}

.vaporwave [class*="shadow-"] {
  box-shadow: none !important;
}

.vaporwave :where(section, article, button, a, span) {
  border-color: color-mix(in oklab, var(--accent) 58%, var(--accent-strong)) !important;
}

.vaporwave :where(h1, h2, h3) {
  text-transform: uppercase;
  letter-spacing: 0.1em;
  text-shadow:
    0 0 0.3rem color-mix(in oklab, var(--accent) 45%, transparent),
    0 0 1rem color-mix(in oklab, var(--accent-strong) 35%, transparent);
}

.vaporwave :where(button, a) {
  color: color-mix(in oklab, var(--accent-strong) 74%, #d4fdff);
  text-decoration: underline;
  text-decoration-thickness: 0.1em;
  text-underline-offset: 0.15em;
}

.vaporwave a:hover {
  color: color-mix(in oklab, var(--accent) 66%, #ffd5f6);
}

.vaporwave .theme-toggle.is-vaporwave {
  border-color: color-mix(in oklab, var(--accent-strong) 70%, #fff);
  background:
    linear-gradient(
      180deg,
      color-mix(in oklab, var(--card) 66%, #2d0e64),
      color-mix(in oklab, var(--card) 84%, #160733)
    );
  box-shadow:
    0 0 0 2px color-mix(in oklab, var(--accent-strong) 30%, transparent),
    0 0 1.1rem color-mix(in oklab, var(--accent) 38%, transparent) !important;
}

.vaporwave .theme-toggle.is-vaporwave .theme-toggle__sun,
.vaporwave .theme-toggle.is-vaporwave .theme-toggle__moon {
  opacity: 1;
}

.vaporwave .theme-toggle.is-vaporwave .theme-toggle__sun {
  transform: translateX(-16%) scale(0.94);
  color: color-mix(in oklab, var(--accent) 72%, #ffe7f8);
  filter: drop-shadow(0 0 0.65rem color-mix(in oklab, var(--accent) 50%, transparent));
}

.vaporwave .theme-toggle.is-vaporwave .theme-toggle__moon {
  transform: translateX(18%) scale(0.94);
  color: color-mix(in oklab, var(--accent-strong) 78%, #dbffff);
  filter: drop-shadow(
    0 0 0.65rem color-mix(in oklab, var(--accent-strong) 48%, transparent)
  );
}

.theme-toggle {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.theme-toggle__sky {
  display: none;
}

.theme-toggle__icon-wrap {
  position: relative;
  z-index: 1;
  height: 1.25rem;
  width: 1.25rem;
}

.theme-toggle__sun,
.theme-toggle__moon {
  position: absolute;
  inset: 0;
  transition:
    opacity 220ms var(--theme-toggle-ease),
    transform 220ms var(--theme-toggle-ease),
    filter 220ms var(--theme-toggle-ease);
}

.theme-toggle__sun {
  color: color-mix(in oklab, var(--accent-strong) 74%, #f59e0b 26%);
}

.theme-toggle__moon {
  color: color-mix(in oklab, var(--fg) 84%, #93c5fd 16%);
}

.theme-toggle.is-light .theme-toggle__sun {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: drop-shadow(0 0 0.4rem color-mix(in oklab, var(--accent) 26%, transparent));
}

.theme-toggle.is-light .theme-toggle__moon {
  opacity: 0;
  transform: translateY(-32%) scale(0.7);
}

.theme-toggle.is-dark .theme-toggle__sun {
  opacity: 0;
  transform: translateY(32%) scale(0.72);
}

.theme-toggle.is-dark .theme-toggle__moon {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: drop-shadow(0 0 0.45rem color-mix(in oklab, var(--accent) 14%, #93c5fd 36%));
}

.theme-toggle--sunrise .theme-toggle__sun {
  animation: toggle-sunrise var(--theme-toggle-duration) var(--theme-toggle-ease) both;
}

.theme-toggle--sunrise .theme-toggle__moon {
  animation: toggle-moon-fade var(--theme-toggle-duration) var(--theme-toggle-ease) both;
}

.theme-toggle--sunrise .theme-toggle__sky {
  display: none;
}

.theme-toggle--sundown .theme-toggle__sun {
  animation: toggle-sun-fade var(--theme-toggle-duration) var(--theme-toggle-ease) both;
}

.theme-toggle--sundown .theme-toggle__moon {
  animation: toggle-moon-rise var(--theme-toggle-duration) var(--theme-toggle-ease) both;
}

.theme-toggle--sundown .theme-toggle__sky {
  display: none;
}

@keyframes toggle-sunrise {
  0% {
    opacity: 0;
    transform: translateY(42%) scale(0.62);
    filter: drop-shadow(0 0 0 transparent);
  }

  55% {
    opacity: 1;
    transform: translateY(-4%) scale(1.08);
    filter: drop-shadow(0 0 0.65rem color-mix(in oklab, var(--accent) 42%, #f59e0b 58%));
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 0 0.4rem color-mix(in oklab, var(--accent) 26%, transparent));
  }
}

@keyframes toggle-sundown {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 0;
    transform: translateY(42%) scale(0.64);
  }
}

@keyframes toggle-moon-rise {
  0% {
    opacity: 0;
    transform: translateY(-42%) scale(0.7);
    filter: drop-shadow(0 0 0 transparent);
  }

  60% {
    opacity: 1;
    transform: translateY(2%) scale(1.04);
    filter: drop-shadow(0 0 0.6rem color-mix(in oklab, var(--accent) 12%, #93c5fd 56%));
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 0 0.45rem color-mix(in oklab, var(--accent) 14%, #93c5fd 36%));
  }
}

@keyframes toggle-moon-fade {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 0;
    transform: translateY(-38%) scale(0.72);
  }
}

@keyframes toggle-sky-sunrise {
  0% {
    opacity: 0.38;
    transform: scale(0.94);
  }

  50% {
    opacity: 0.58;
    transform: scale(1);
  }

  100% {
    opacity: 0.44;
    transform: scale(0.96);
  }
}

@keyframes toggle-sky-sundown {
  0% {
    opacity: 0.44;
    transform: scale(0.96);
  }

  50% {
    opacity: 0.56;
    transform: scale(1);
  }

  100% {
    opacity: 0.4;
    transform: scale(0.95);
  }
}

@keyframes toggle-sun-fade {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: drop-shadow(0 0 0.4rem color-mix(in oklab, var(--accent) 26%, transparent));
  }

  100% {
    opacity: 0;
    transform: translateY(36%) scale(0.7);
    filter: drop-shadow(0 0 0 transparent);
  }
}

@keyframes retro-flicker {
  0% {
    opacity: 0.2;
  }

  50% {
    opacity: 0.33;
  }

  100% {
    opacity: 0.26;
  }
}

@keyframes vaporwave-sheen {
  0% {
    transform: translateY(-4%) scale(1);
    opacity: 0.32;
  }

  50% {
    transform: translateY(2%) scale(1.01);
    opacity: 0.42;
  }

  100% {
    transform: translateY(-4%) scale(1);
    opacity: 0.32;
  }
}

@media (prefers-reduced-motion: reduce) {
  .theme-toggle__sun,
  .theme-toggle__moon,
  .theme-toggle__sky {
    transition:
      opacity 120ms linear,
      transform 120ms linear,
      filter 120ms linear;
  }

  .theme-toggle.is-light .theme-toggle__moon,
  .theme-toggle.is-dark .theme-toggle__sun {
    transform: scale(0.82);
  }

  .theme-toggle--sunrise .theme-toggle__sun,
  .theme-toggle--sunrise .theme-toggle__moon,
  .theme-toggle--sunrise .theme-toggle__sky,
  .theme-toggle--sundown .theme-toggle__sun,
  .theme-toggle--sundown .theme-toggle__moon,
  .theme-toggle--sundown .theme-toggle__sky {
    animation: none;
  }

  .retro body::after {
    animation: none;
    opacity: 0.2;
  }

  .vaporwave body::after {
    animation: none;
    opacity: 0.24;
  }
}

